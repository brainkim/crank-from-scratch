# Crank from Scratch

This is the companion repository for the essay [Writing Crank from Scratch](https://crank.js.org/blog/writing-crank-from-scratch).

Unlike a typical repository, each commit demostrates a single step in the implementation of the [Crank.js framework](https://github.com/bikeshaving/crank), and edits a single file (`crank.js`). This means that, if you discovered a bug, it would have to be fixed by editing the commit which introduced the bug, rather than making a new commit.

## Links to diffs and files for each commit.
1. Creating DOM Nodes

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/80683e84ac529022c898fdaa72c47d6c26a2cef2) [File](https://github.com/brainkim/crank-from-scratch/blob/80683e84ac529022c898fdaa72c47d6c26a2cef2/crank.js)

2. Element Diffing

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/c5299409736081d37a66de9a91b1db0e2883bc46) [File](https://github.com/brainkim/crank-from-scratch/blob/c5299409736081d37a66de9a91b1db0e2883bc46/crank.js)

3. Function Components

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/af10d458baf4f504eff9a0b821e05c4b5cebe2fd) [File](https://github.com/brainkim/crank-from-scratch/blob/af10d458baf4f504eff9a0b821e05c4b5cebe2fd/crank.js)

4. Iterables and Fragments

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/90091832ee9558d3eec5f8bbee566c55e82b3e41) [File](https://github.com/brainkim/crank-from-scratch/blob/90091832ee9558d3eec5f8bbee566c55e82b3e41/crank.js)

5. Generator Components

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/d89c229f2492817d26c6b96237bc5087c15bf5e9) [File](https://github.com/brainkim/crank-from-scratch/blob/d89c229f2492817d26c6b96237bc5087c15bf5e9/crank.js)

6. Refreshing

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/cfd60c84ebd38549d3bbf4829c28c0e8f96847ec) [File](https://github.com/brainkim/crank-from-scratch/blob/cfd60c84ebd38549d3bbf4829c28c0e8f96847ec/crank.js)

7. Rearranging

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/ce8a6b8a6cbc55e04b761b556c6e10f084fbc555) [File](https://github.com/brainkim/crank-from-scratch/blob/ce8a6b8a6cbc55e04b761b556c6e10f084fbc555/crank.js)

8. Returning and Unmounting

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/274b9142fced2b366bedb62ca668e96a64e7c39a) [File](https://github.com/brainkim/crank-from-scratch/blob/274b9142fced2b366bedb62ca668e96a64e7c39a/crank.js)

9. Props Iterator

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/79e12981b3bbb65ffd912cdf3fd4b11b19862da4) [File](https://github.com/brainkim/crank-from-scratch/blob/79e12981b3bbb65ffd912cdf3fd4b11b19862da4/crank.js)

10. Accessing DOM Nodes

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/cb6789ba7bb76966826dee83df2771bfd0e87c30) [File](https://github.com/brainkim/crank-from-scratch/blob/cb6789ba7bb76966826dee83df2771bfd0e87c30/crank.js)

11. Async Function Components

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/72cdc766f14951ccda676df887eac6f5968c5fdc) [File](https://github.com/brainkim/crank-from-scratch/blob/72cdc766f14951ccda676df887eac6f5968c5fdc/crank.js)

12. Enqueuing

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/66a9459bd2fc11a2a3bd7bae9818394ad3902e67) [File](https://github.com/brainkim/crank-from-scratch/blob/66a9459bd2fc11a2a3bd7bae9818394ad3902e67/crank.js)

13. Async Children

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/caf7632e27d89236b06855a5c63b8e812c060a66) [File](https://github.com/brainkim/crank-from-scratch/blob/caf7632e27d89236b06855a5c63b8e812c060a66/crank.js)

14. Chasing

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/f4ab9d5a2738026ce52c5bc4b82de3529aad34bc) [File](https://github.com/brainkim/crank-from-scratch/blob/f4ab9d5a2738026ce52c5bc4b82de3529aad34bc/crank.js)

15. Async Generator Components

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/208a71ff2d82fd202c6a4331d85b1493f8a09605) [File](https://github.com/brainkim/crank-from-scratch/blob/208a71ff2d82fd202c6a4331d85b1493f8a09605/crank.js)

16. Async Values and Fallbacks

	[Diff](https://github.com/brainkim/crank-from-scratch/commit/567363adbb546d69e6726de7360595b910960ef2) [File](https://github.com/brainkim/crank-from-scratch/blob/567363adbb546d69e6726de7360595b910960ef2/crank.js)
